!function(t,e,a,i,n){"use strict";function o(t){var e="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[e]){var a=function(t,e){var a=[null,null],i=[null,null],n=[null,null],o=function(o,r){return n[r]=3*t[r],i[r]=3*(e[r]-t[r])-n[r],a[r]=1-n[r]-i[r],o*(n[r]+o*(i[r]+o*a[r]))},r=function(t){return n[0]+t*(2*i[0]+3*a[0]*t)},s=function(t){for(var e,a=t,i=0;++i<14&&(e=o(a,0)-t,!(Math.abs(e)<.001));)a-=e/r(a);return a};return function(t){return o(s(t),1)}};i.easing[e]=function(e,i,n,o,r){return o*a([t[0],t[1]],[t[2],t[3]])(i/r)+n}}return e}function r(){}function s(t,e,a){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(a)?1/0:a,t))}function l(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function c(t){return Ia?+l(t.css("transform")):+t.css("left").replace("px","")}function u(t,e){var a={};return Ia?a.transform="translate3d("+(t+(e?.001:0))+"px,0,0)":a.left=t,a}function d(t){return{"transition-duration":t+"ms"}}function h(t,e){return+String(t).replace(e||"px","")||n}function p(t){return/%$/.test(t)&&h(t,"%")}function f(t,e){return p(t)/100*e||h(t)}function g(t){return(!!h(t)||!!h(t,"%"))&&t}function m(t,e,a,i){return(t-(i||0))*(e+(a||0))}function v(t,e,a,i){return-Math.round(t/(e+(a||0))-(i||0))}function _(t){var e=t.data();if(!e.tEnd){var a=t[0],i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};a.addEventListener(i[ha.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()},!1),e.tEnd=!0}}function y(t,e,a,i){var n,o=t.data();o&&(o.onEndFn=function(){n||(n=!0,clearTimeout(o.tT),a())},o.tProp=e,clearTimeout(o.tT),o.tT=setTimeout(function(){o.onEndFn()},1.5*i),_(t))}function b(t,e,a){if(t.length){var i=t.data();Ia?(t.css(d(0)),i.onEndFn=r,clearTimeout(i.tT)):t.stop();var n=w(e,function(){return c(t)});return t.css(u(n,a)),n}}function w(){for(var t,e=0,a=arguments.length;a>e&&(t=e?arguments[e]():arguments[e],"number"!=typeof t);e++);return t}function k(t,e){return Math.round(t+(e-t)/1.5)}function D(){return D.p=D.p||("https:"===a.protocol?"https://":"http://"),D.p}function x(t){var a=e.createElement("a");return a.href=t,a}function M(t,e){if("string"!=typeof t)return t;t=x(t);var a,i;if(t.host.match(/youtube\.com/)&&t.search){if(a=t.search.split("v=")[1]){var n=a.indexOf("&");-1!==n&&(a=a.substring(0,n)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(a=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",a=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return a&&i||!e||(a=t.href,i="custom"),a?{id:a,type:i,s:t.search.replace(/^\?/,"")}:!1}function C(t,e,a){var n,o,r=t.video;return"youtube"===r.type?(o=D()+"img.youtube.com/vi/"+r.id+"/default.jpg",n=o.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?i.ajax({url:D()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(i){t.thumbsReady=!0,T(e,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},t.i,a)}}):t.thumbsReady=!0,{img:n,thumb:o}}function T(t,e,a,n){for(var o=0,r=t.length;r>o;o++){var s=t[o];if(s.i===a&&s.thumbsReady){var l={videoReady:!0};l[$a]=l[Ba]=l[Ua]=!1,n.splice(o,1,i.extend({},s,l,e));break}}}function j(t){function e(t,e,n){var o=t.children("img").eq(0),r=t.attr("href"),s=t.attr("src"),l=o.attr("src"),c=e.video,u=n?M(r,c===!0):!1;u?r=!1:u=c,a(t,o,i.extend(e,{video:u,img:e.img||r||s||l,thumb:e.thumb||l||s||r}))}function a(t,e,a){var n=a.thumb&&a.img!==a.thumb,o=h(a.width||t.attr("width")),r=h(a.height||t.attr("height"));i.extend(a,{width:o,height:r,thumbratio:W(a.thumbratio||h(a.thumbwidth||e&&e.attr("width")||n||o)/h(a.thumbheight||e&&e.attr("height")||n||r))})}var n=[];return t.children().each(function(){var t=i(this),o=R(i.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,o,!0);else{if(t.is(":empty"))return;a(t,null,i.extend(o,{html:this,_html:t.html()}))}n.push(o)}),n}function S(t){return 0===t.offsetWidth&&0===t.offsetHeight}function I(t){return!i.contains(e.documentElement,t)}function F(t,e,a){t()?e():setTimeout(function(){F(t,e)},a||100)}function N(t){a.replace(a.protocol+"//"+a.host+a.pathname.replace(/^\/?/,"/")+a.search+"#"+t)}function A(t,e,a){var i=t.data(),n=i.measures;if(n&&(!i.l||i.l.W!==n.width||i.l.H!==n.height||i.l.r!==n.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==a)){var o=n.width,r=n.height,l=e.w/e.h,c=n.ratio>=l,u="scaledown"===a,d="contain"===a,h="cover"===a;c&&(u||d)||!c&&h?(o=s(e.w,0,u?o:1/0),r=o/n.ratio):(c&&h||!c&&(u||d))&&(r=s(e.h,0,u?r:1/0),o=r*n.ratio),t.css({width:Math.ceil(o),height:Math.ceil(r),marginLeft:Math.floor(-o/2),marginTop:Math.floor(-r/2)}),i.l={W:n.width,H:n.height,r:n.ratio,w:e.w,h:e.h,m:a}}return!0}function E(t,e){var a=t[0];a.styleSheet?a.styleSheet.cssText=e:t.html(e)}function Y(t,e,a){return e===a?!1:e>=t?"left":t>=a?"right":"left right"}function P(t,e,a,i){if(!a)return!1;if(!isNaN(t))return t-(i?0:1);for(var n,o=0,r=e.length;r>o;o++){var s=e[o];if(s.id===t){n=o;break}}return n}function O(t,e,a){a=a||{},t.each(function(){var t,n=i(this),o=n.data();o.clickOn||(o.clickOn=!0,i.extend(V(n,{onStart:function(e){t=e,(a.onStart||r).call(this,e)},onMove:a.onMove||r,onTouchEnd:a.onTouchEnd||r,onEnd:function(a){a.moved||e.call(this,t)}}),{noMove:!0}))})}function K(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function L(t){for(var e=t.length;e;){var a=Math.floor(Math.random()*e--),i=t[e];t[e]=t[a],t[a]=i}return t}function z(t){return"[object Array]"==Object.prototype.toString.call(t)&&i.map(t,function(t){return i.extend({},t)})}function Q(t,e){Ca.scrollLeft(t).scrollTop(e)}function R(t){if(t){var e={};return i.each(t,function(t,a){e[t.toLowerCase()]=a}),e}}function W(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||n):e}}function H(t,e){t.preventDefault(),e&&t.stopPropagation()}function q(t){return t?">":"<"}function $(t,e){var a=t.data(),n=Math.round(e.pos),o=function(){a.sliding=!1,(e.onEnd||r)()};"undefined"!=typeof e.overPos&&e.overPos!==e.pos&&(n=e.overPos,o=function(){$(t,i.extend({},e,{overPos:e.pos,time:Math.max(La,e.time/2)}))});var s=i.extend(u(n,e._001),e.width&&{width:e.width});a.sliding=!0,Ia?(t.css(i.extend(d(e.time),s)),e.time>10?y(t,"transform",o,e.time):o()):t.stop().animate(s,e.time,Va,o)}function U(t,e,a,n,o,s){var l="undefined"!=typeof s;if(l||(o.push(arguments),Array.prototype.push.call(arguments,o.length),!(o.length>1))){t=t||i(t),e=e||i(e);var c=t[0],u=e[0],d="crossfade"===n.method,h=function(){if(!h.done){h.done=!0;var t=(l||o.shift())&&o.shift();t&&U.apply(this,t),(n.onEnd||r)(!!t)}},p=n.time/(s||1);a.removeClass(Pe+" "+Ye),t.stop().addClass(Pe),e.stop().addClass(Ye),d&&u&&t.fadeTo(0,0),t.fadeTo(d?p:0,1,d&&h),e.fadeTo(p,0,h),c&&d||u||h()}}function B(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=i.now()}function V(a,n){function o(t){return p=i(t.target),w.checked=m=v=y=!1,d||w.flow||t.touches&&t.touches.length>1||t.which>1||ka&&ka.type!==t.type&&xa||(m=n.select&&p.is(n.select,b))?m:(g="touchstart"===t.type,v=p.is("a, a *",b),f=w.control,_=w.noMove||w.noSwipe||f?16:w.snap?0:4,B(t),h=ka=t,Da=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||r).call(b,t,{control:f,$target:p}),d=w.flow=!0,void((!g||w.go)&&H(t)))}function s(t){if(t.touches&&t.touches.length>1||Pa&&!t.isPrimary||Da!==t.type||!d)return d&&l(),void(n.onTouchEnd||r)();B(t);var e=Math.abs(t._x-h._x),a=Math.abs(t._y-h._y),i=e-a,o=(w.go||w.x||i>=0)&&!w.noSwipe,s=0>i;g&&!w.checked?(d=o)&&H(t):(H(t),(n.onMove||r).call(b,t,{touch:g})),!y&&Math.sqrt(Math.pow(e,2)+Math.pow(a,2))>_&&(y=!0),w.checked=w.checked||o||s}function l(t){(n.onTouchEnd||r)();var e=d;w.control=d=!1,e&&(w.flow=!1),!e||v&&!w.checked||(t&&H(t),xa=!0,clearTimeout(Ma),Ma=setTimeout(function(){xa=!1},1e3),(n.onEnd||r).call(b,{moved:y,$target:p,control:f,touch:g,startEvent:h,aborted:!t||"MSPointerCancel"===t.type}))}function c(){w.flow||setTimeout(function(){w.flow=!0},10)}function u(){w.flow&&setTimeout(function(){w.flow=!1},Ka)}var d,h,p,f,g,m,v,_,y,b=a[0],w={};return Pa?(b[Ya]("MSPointerDown",o,!1),e[Ya]("MSPointerMove",s,!1),e[Ya]("MSPointerCancel",l,!1),e[Ya]("MSPointerUp",l,!1)):(b[Ya]&&(b[Ya]("touchstart",o,!1),b[Ya]("touchmove",s,!1),b[Ya]("touchend",l,!1),e[Ya]("touchstart",c,!1),e[Ya]("touchend",u,!1),e[Ya]("touchcancel",u,!1),t[Ya]("scroll",u,!1)),a.on("mousedown",o),Ta.on("mousemove",s).on("mouseup",l)),a.on("click","a",function(t){w.checked&&H(t)}),w}function J(t,e){function a(a,i){C=!0,c=d=a._x,m=a._now,g=[[m,c]],h=p=S.noMove||i?0:b(t,(e.getPos||r)(),e._001),(e.onStart||r).call(T,a)}function n(t,e){_=S.min,y=S.max,w=S.snap,D=t.altKey,C=M=!1,x=e.control,x||j.sliding||a(t)}function o(i,n){S.noSwipe||(C||a(i),d=i._x,g.push([i._now,d]),p=h-(c-d),f=Y(p,_,y),_>=p?p=k(p,_):p>=y&&(p=k(p,y)),S.noMove||(t.css(u(p,e._001)),M||(M=!0,n.touch||Pa||t.addClass(Xe)),(e.onMove||r).call(T,i,{pos:p,edge:f})))}function l(n){if(!S.noSwipe||!n.moved){C||a(n.startEvent,!0),n.touch||Pa||t.removeClass(Xe),v=i.now();for(var o,l,c,u,f,m,b,k,x,M=v-Ka,j=null,I=La,F=e.friction,N=g.length-1;N>=0;N--){if(o=g[N][0],l=Math.abs(o-M),null===j||c>l)j=o,u=g[N][1];else if(j===M||l>c)break;c=l}b=s(p,_,y);var A=u-d,E=A>=0,Y=v-j,P=Y>Ka,O=!P&&p!==h&&b===p;w&&(b=s(Math[O?E?"floor":"ceil":"round"](p/w)*w,_,y),_=y=b),O&&(w||b===p)&&(x=-(A/Y),I*=s(Math.abs(x),e.timeLow,e.timeHigh),f=Math.round(p+x*I/F),w||(b=f),(!E&&f>y||E&&_>f)&&(m=E?_:y,k=f-m,w||(b=m),k=s(b+.03*k,m-50,m+50),I=Math.abs((p-k)/(x/F)))),I*=D?10:1,(e.onEnd||r).call(T,i.extend(n,{moved:n.moved||P&&w,pos:p,newPos:b,overPos:k,time:I}))}}var c,d,h,p,f,g,m,v,_,y,w,D,x,M,C,T=t[0],j=t.data(),S={};return S=i.extend(V(e.$wrap,{onStart:n,onMove:o,onTouchEnd:e.onTouchEnd,onEnd:l,select:e.select}),S)}function X(t,e){var a,n,o,s=t[0],l={prevent:{}};return s[Ya]&&s[Ya](Oa,function(t){var s=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,u=Math.abs(c)>Math.abs(s),d=q(0>c),h=n===d,p=i.now(),f=Ka>p-o;n=d,o=p,u&&l.ok&&(!l.prevent[d]||a)&&(H(t,!0),a&&h&&f||(e.shift&&(a=!0,clearTimeout(l.t),l.t=setTimeout(function(){a=!1},za)),(e.onEnd||r)(t,e.shift?d:c)))},!1),l}function G(){i.each(i.Fotorama.instances,function(t,e){e.index=t})}function Z(t){i.Fotorama.instances.push(t),G()}function te(t){i.Fotorama.instances.splice(t.index,1),G()}var ee="fotorama",ae="fullscreen",ie=ee+"__wrap",ne=ie+"--css2",oe=ie+"--css3",re=ie+"--video",se=ie+"--fade",le=ie+"--slide",ce=ie+"--no-controls",ue=ie+"--no-shadows",de=ie+"--pan-y",he=ie+"--rtl",pe=ie+"--only-active",fe=ie+"--no-captions",ge=ie+"--toggle-arrows",me=ee+"__stage",ve=me+"__frame",_e=ve+"--video",ye=me+"__shaft",be=ee+"__grab",we=ee+"__pointer",ke=ee+"__arr",De=ke+"--disabled",xe=ke+"--prev",Me=ke+"--next",Ce=ee+"__nav",Te=Ce+"-wrap",je=Ce+"__shaft",Se=Ce+"--dots",Ie=Ce+"--thumbs",Fe=Ce+"__frame",Ne=Fe+"--dot",Ae=Fe+"--thumb",Ee=ee+"__fade",Ye=Ee+"-front",Pe=Ee+"-rear",Oe=ee+"__shadow",Ke=Oe+"s",Le=Ke+"--left",ze=Ke+"--right",Qe=ee+"__active",Re=ee+"__select",We=ee+"--hidden",He=ee+"--fullscreen",qe=ee+"__fullscreen-icon",$e=ee+"__error",Ue=ee+"__loading",Be=ee+"__loaded",Ve=Be+"--full",Je=Be+"--img",Xe=ee+"__grabbing",Ge=ee+"__img",Ze=Ge+"--full",ta=ee+"__dot",ea=ee+"__thumb",aa=ea+"-border",ia=ee+"__html",na=ee+"__video",oa=na+"-play",ra=na+"-close",sa=ee+"__caption",la=ee+"__caption__wrap",ca=ee+"__spinner",ua=i&&i.fn.jquery.split(".");if(!ua||ua[0]<1||1==ua[0]&&ua[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var da={},ha=function(t,e,a){function i(t){v.cssText=t}function n(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var i in t){var n=t[i];if(!o(n,"-")&&v[n]!==a)return"pfx"==e?n:!0}return!1}function s(t,e,i){for(var o in t){var r=e[t[o]];if(r!==a)return i===!1?t[o]:n(r,"function")?r.bind(i||e):r}return!1}function l(t,e,a){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+b.join(i+" ")+i).split(" ");return n(e,"string")||n(e,"undefined")?r(o,e):(o=(t+" "+w.join(i+" ")+i).split(" "),s(o,e,a))}var c,u,d,h="2.6.2",p={},f=e.documentElement,g="modernizr",m=e.createElement(g),v=m.style,_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",b=y.split(" "),w=y.toLowerCase().split(" "),k={},D=[],x=D.slice,M=function(t,a,i,n){var o,r,s,l,c=e.createElement("div"),u=e.body,d=u||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=n?n[i]:g+(i+1),c.appendChild(s);return o=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),c.id=g,(u?c:d).innerHTML+=o,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),r=a(c,t),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),f.style.overflow=l),!!r},C={}.hasOwnProperty;d=n(C,"undefined")||n(C.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return C.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var a=x.call(arguments,1),i=function(){if(this instanceof i){var n=function(){};n.prototype=e.prototype;var o=new n,r=e.apply(o,a.concat(x.call(arguments)));return Object(r)===r?r:o}return e.apply(t,a.concat(x.call(arguments)))};return i}),k.csstransforms3d=function(){var t=!!l("perspective");return t};for(var T in k)d(k,T)&&(u=T.toLowerCase(),p[u]=k[T](),D.push((p[u]?"":"no-")+u));return p.addTest=function(t,e){if("object"==typeof t)for(var i in t)d(t,i)&&p.addTest(i,t[i]);else{if(t=t.toLowerCase(),p[t]!==a)return p;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(e?"":"no-")+t),p[t]=e}return p},i(""),m=c=null,p._version=h,p._prefixes=_,p._domPrefixes=w,p._cssomPrefixes=b,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=M,p.prefixed=function(t,e,a){return e?l(t,e,a):l(t,"pfx")},p}(t,e),pa={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},fa="webkit moz o ms khtml".split(" ");if("undefined"!=typeof e.cancelFullScreen)pa.ok=!0;else for(var ga=0,ma=fa.length;ma>ga;ga++)if(pa.prefix=fa[ga],"undefined"!=typeof e[pa.prefix+"CancelFullScreen"]){pa.ok=!0;break}pa.ok&&(pa.event=pa.prefix+"fullscreenchange",pa.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},pa.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},pa.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var va,_a={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},ya={top:"auto",left:"auto",className:""};!function(t,e){va=e()}(this,function(){function t(t,a){var i,n=e.createElement(t||"div");for(i in a)n[i]=a[i];return n}function a(t){for(var e=1,a=arguments.length;a>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,a,i){var n=["opacity",e,~~(100*t),a,i].join("-"),o=.01+100*(a/i),r=Math.max(1-(1-t)/e*(100-o),t),s=h.substring(0,h.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return f[n]||(g.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+r+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",g.cssRules.length),f[n]=1),n}function o(t,e){var a,i,o=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<p.length;i++)if(a=p[i]+e,o[a]!==n)return a;return o[e]!==n?e:void 0}function r(t,e){for(var a in e)t.style[o(t,a)||a]=e[a];return t}function s(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)t[i]===n&&(t[i]=a[i])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function c(t,e){return"string"==typeof t?t:t[e%t.length]}function u(t){return"undefined"==typeof this?new u(t):void(this.opts=s(t||{},u.defaults,m))}function d(){function e(e,a){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',a)}g.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(t,i){function n(){return r(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(t,o,s){a(h,a(r(n(),{rotation:360/i.lines*t+"deg",left:~~o}),a(r(e("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),e("fill",{color:c(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}var s,l=i.length+i.width,u=2*l,d=2*-(i.width+i.length)+"px",h=r(n(),{position:"absolute",top:d,left:d});if(i.shadow)for(s=1;s<=i.lines;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)o(s);return a(t,h)},u.prototype.opacity=function(t,e,a,i){var n=t.firstChild;i=i.shadow&&i.lines||0,n&&e+i<n.childNodes.length&&(n=n.childNodes[e+i],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=a))}}var h,p=["webkit","Moz","ms","O"],f={},g=function(){var i=t("style",{type:"text/css"});return a(e.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},s(u.prototype,{spin:function(e){this.stop();var a,i,n=this,o=n.opts,s=n.el=r(t(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),c=o.radius+o.length+o.width;if(e&&(e.insertBefore(s,e.firstChild||null),i=l(e),a=l(s),r(s,{left:("auto"==o.left?i.x-a.x+(e.offsetWidth>>1):parseInt(o.left,10)+c)+"px",top:("auto"==o.top?i.y-a.y+(e.offsetHeight>>1):parseInt(o.top,10)+c)+"px"})),s.setAttribute("role","progressbar"),n.lines(s,n.opts),!h){var u,d=0,p=(o.lines-1)*(1-o.direction)/2,f=o.fps,g=f/o.speed,m=(1-o.opacity)/(g*o.trail/100),v=g/o.lines;!function _(){d++;for(var t=0;t<o.lines;t++)u=Math.max(1-(d+(o.lines-t)*v)%g*m,o.opacity),n.opacity(s,t*o.direction+p,u,o);n.timeout=n.el&&setTimeout(_,~~(1e3/f))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=n),this},lines:function(e,n){function o(e,a){return r(t(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:a,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*l+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var s,l=0,u=(n.lines-1)*(1-n.direction)/2;l<n.lines;l++)s=r(t(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:h&&i(n.opacity,n.trail,u+l*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&a(s,r(o("#000","0 0 4px #000"),{top:"2px"})),a(e,a(s,o(c(n.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,a){e<t.childNodes.length&&(t.childNodes[e].style.opacity=a)}});var v=r(t("group"),{behavior:"url(#default#VML)"});return!o(v,"transform")&&v.adj?d():h=o(v,"animation"),u});var ba,wa,ka,Da,xa,Ma,Ca=i(t),Ta=i(e),ja="quirks"===a.hash.replace("#",""),Sa=ha.csstransforms3d,Ia=Sa&&!ja,Fa=Sa||"CSS1Compat"===e.compatMode,Na=pa.ok,Aa=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ea=!Ia||Aa,Ya="addEventListener",Pa=navigator.msPointerEnabled,Oa="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==n?"mousewheel":"DOMMouseScroll",Ka=250,La=300,za=1400,Qa=5e3,Ra=2,Wa=64,Ha=500,qa=333,$a="$stageFrame",Ua="$navDotFrame",Ba="$navThumbFrame",Va=o([.1,0,.25,1]),Ja=99999,Xa={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Ra,glimpse:0,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Wa,thumbheight:Wa,thumbmargin:Ra,thumbborderwidth:Ra,allowfullscreen:!1,fit:"contain",transition:"slide",clicktransition:null,transitionduration:La,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Ga={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};jQuery.Fotorama=function(t,n){function o(){i.each(gi,function(t,e){if(!e.i){e.i=an++;var a=M(e.video,!0);if(a){var i={};e.video=a,e.img||e.thumb?e.thumbsReady=!0:i=C(e,gi,Gi),T(gi,{img:i.img,thumb:i.thumb},e.i,Gi)}}})}function r(t){return Qi[t]||Gi.fullScreen}function l(t){var e="keydown."+ee,a="keydown."+ee+Zi,i="resize."+ee+Zi;t?(Ta.on(a,function(t){var e,a;yi&&27===t.keyCode?(e=!0,oi(yi,!0,!0)):(Gi.fullScreen||n.keyboard&&!Gi.index)&&(27===t.keyCode?(e=!0,Gi.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&r("space")||37===t.keyCode&&r("left")||38===t.keyCode&&r("up")?a="<":32===t.keyCode&&r("space")||39===t.keyCode&&r("right")||40===t.keyCode&&r("down")?a=">":36===t.keyCode&&r("home")?a="<<":35===t.keyCode&&r("end")&&(a=">>")),(e||a)&&H(t),a&&Gi.show({index:a,slow:t.altKey,user:!0})}),Gi.index||Ta.off(e).on(e,"textarea, input, select",function(t){!wa.hasClass(ae)&&t.stopPropagation()}),Ca.on(i,Gi.resize)):(Ta.off(a),Ca.off(i))}function c(e){e!==c.f&&(e?(t.html("").addClass(ee+" "+tn).append(sn).before(on).before(rn),Z(Gi)):(sn.detach(),on.detach(),rn.detach(),t.html(nn.urtext).removeClass(tn),te(Gi)),l(e),c.f=e)}function p(){gi=Gi.data=gi||z(n.data)||j(t),mi=Gi.size=gi.length,!fi.ok&&n.shuffle&&L(gi),o(),Cn=x(Cn),mi&&c(!0)}function _(){var t=2>mi||yi;Sn.noMove=t||Ei,Sn.noSwipe=t||!n.swipe,!Ki&&cn.toggleClass(be,!Sn.noMove&&!Sn.noSwipe),Pa&&sn.toggleClass(de,!Sn.noSwipe)}function y(t){t===!0&&(t=""),n.autoplay=Math.max(+t||Qa,1.5*Oi)}function k(){function t(t,a){e[t?"add":"remove"].push(a)}Gi.options=n=R(n),Ei="crossfade"===n.transition||"dissolve"===n.transition,ji=n.loop&&(mi>2||Ei)&&(!Ki||"slide"!==Ki),Oi=+n.transitionduration||La,zi="rtl"===n.direction,Qi=i.extend({},n.keyboard&&Ga,n.keyboard);var e={add:[],remove:[]};mi>1?(Si=n.nav,Fi="top"===n.navposition,e.remove.push(Re),pn.toggle(!!n.arrows)):(Si=!1,pn.hide()),na(),_i=new va(i.extend(_a,n.spinner,ya,{direction:zi?-1:1})),xa(),Ma(),n.autoplay&&y(n.autoplay),Yi=h(n.thumbwidth)||Wa,Pi=h(n.thumbheight)||Wa,In.ok=Nn.ok=n.trackpad&&!Ea,_(),Va(n,[jn]),Ii="thumbs"===Si,Ii?(da(mi,"navThumb"),vi=_n,Xi=Ba,E(on,i.Fotorama.jst.style({w:Yi,h:Pi,b:n.thumbborderwidth,m:n.thumbmargin,s:Zi,q:!Fa})),gn.addClass(Ie).removeClass(Se)):"dots"===Si?(da(mi,"navDot"),vi=vn,Xi=Ua,gn.addClass(Se).removeClass(Ie)):(Si=!1,gn.removeClass(Ie+" "+Se)),Si&&(Fi?fn.insertBefore(ln):fn.insertAfter(ln),ma.nav=!1,ma(vi,mn,"nav")),Ni=n.allowfullscreen,Ni?(bn.appendTo(ln),Ai=Na&&"native"===Ni):(bn.detach(),Ai=!1),t(Ei,se),t(!Ei,le),t(!n.captions,fe),t(zi,he),t("always"!==n.arrows,ge),Li=n.shadows&&!Ea,t(!Li,ue),sn.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Tn=i.extend({},n)}function D(t){return 0>t?(mi+t%mi)%mi:t>=mi?t%mi:t}function x(t){return s(t,0,mi-1)}function S(t){return ji?D(t):x(t)}function B(t){return t>0||ji?t-1:!1}function V(t){return mi-1>t||ji?t+1:!1}function G(){Sn.min=ji?-1/0:-m(mi-1,jn.w,n.margin,ki),Sn.max=ji?1/0:-m(0,jn.w,n.margin,ki),Sn.snap=jn.w+n.margin}function Ee(){Fn.min=Math.min(0,jn.nw-mn.width()),Fn.max=0,mn.toggleClass(be,!(Fn.noMove=Fn.min===Fn.max))}function Ye(t,e,a){if("number"==typeof t){t=new Array(t);var n=!0}return i.each(t,function(t,i){if(n&&(i=t),"number"==typeof i){var o=gi[D(i)];if(o){var r="$"+e+"Frame",s=o[r];a.call(this,t,i,o,s,r,s&&s.data())}}})}function Pe(t,e,a,i){(!Ri||"*"===Ri&&i===Ti)&&(t=g(n.width)||g(t)||Ha,e=g(n.height)||g(e)||qa,Gi.resize({width:t,ratio:n.ratio||a||t/e},0,i===Ti?!0:"*"))}function Oe(t,e,a,o,r){Ye(t,e,function(t,s,l,c,u,d){function h(t){var e=D(s);Xa(t,{index:e,src:w,frame:gi[e]})}function p(){_.remove(),i.Fotorama.cache[w]="error",l.html&&"stage"===e||!k||k===w?(!w||l.html||m?"stage"===e&&(c.trigger("f:load").removeClass(Ue+" "+$e).addClass(Be),h("load"),Pe()):(c.trigger("f:error").removeClass(Ue).addClass($e),h("error")),d.state="error",!(mi>1&&gi[s]===l)||l.html||l.deleted||l.video||m||(l.deleted=!0,Gi.splice(s,1))):(l[b]=w=k,Oe([s],e,a,o,!0))}function f(){i.Fotorama.measures[w]=y.measures=i.Fotorama.measures[w]||{width:v.width,height:v.height,ratio:v.width/v.height},Pe(y.measures.width,y.measures.height,y.measures.ratio,s),_.off("load error").addClass(Ge+(m?" "+Ze:"")).prependTo(c),A(_,a||jn,o||l.fit||n.fit),i.Fotorama.cache[w]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Ue+" "+$e).addClass(Be+" "+(m?Ve:Je)),"stage"===e&&h("load")},5)}function g(){var t=10;F(function(){return!Vi||!t--&&!Ea},function(){f()})}if(c){var m=Gi.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||r||m){var v=new Image,_=i(v),y=_.data();d[m?"$full":"$img"]=_;var b="stage"===e?m?"full":"img":"thumb",w=l[b],k=m?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=d.$wrap),!w)return void p();i.Fotorama.cache[w]?!function x(){"error"===i.Fotorama.cache[w]?p():"loaded"===i.Fotorama.cache[w]?setTimeout(g,0):setTimeout(x,100)}():(i.Fotorama.cache[w]="*",_.on("load",g).on("error",p)),d.state="",v.src=w}}})}function Xe(t){Mn.append(_i.spin().el).appendTo(t)}function na(){Mn.detach(),_i&&_i.stop()}function ua(){var t=Gi.activeFrame[$a];t&&!t.data().state&&(Xe(t),t.on("f:load f:error",function(){t.off("f:load f:error"),na()}))}function da(t,e){Ye(t,e,function(t,a,o,r,s,l){r||(r=o[s]=sn[s].clone(),l=r.data(),l.data=o,"stage"===e?(o.html&&i('<div class="'+ia+'"></div>').append(o._html?i(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),n.captions&&o.caption&&i(K(sa,K(la,o.caption))).appendTo(r),o.video&&r.addClass(_e).append(kn.clone()),un=un.add(r)):"navDot"===e?vn=vn.add(r):"navThumb"===e&&(l.$wrap=r.children(":first"),_n=_n.add(r),o.video&&r.append(kn.clone())))})}function ha(t,e,a){return t&&t.length&&A(t,e,a)}function fa(t){Ye(t,"stage",function(t,e,a,o,r,s){if(o){En[$a][D(e)]=o.css(i.extend({left:Ei?0:m(e,jn.w,n.margin,ki)},Ei&&d(0))),I(o[0])&&(o.appendTo(cn),oi(a.$video));var l=a.fit||n.fit;ha(s.$img,jn,l),ha(s.$full,jn,l)}})}function ga(t,e){if("thumbs"===Si&&!isNaN(t)){var a=-t,n=-t+jn.nw;_n.each(function(){var t=i(this),o=t.data(),r=o.eq,s={h:Pi},l="cover";s.w=o.w,o.l+o.w<a||o.l>n||ha(o.$img,s,l)||e&&Oe([r],"navThumb",s,l)})}}function ma(t,e,a){if(!ma[a]){var o="nav"===a&&Ii,r=0;e.append(t.filter(function(){for(var t,e=i(this),a=e.data(),n=0,o=gi.length;o>n;n++)if(a.data===gi[n]){t=!0,a.eq=n;break}return t||e.remove()&&!1}).sort(function(t,e){return i(t).data().eq-i(e).data().eq}).each(function(){if(o){var t=i(this),e=t.data(),a=Math.round(Pi*e.data.thumbratio)||Yi;e.l=r,e.w=a,t.css({width:a}),r+=a+n.thumbmargin}})),ma[a]=!0}}function ka(t){return t-Yn>jn.w/3}function Da(t){return!(ji||Cn+t&&Cn-mi+t||yi)}function xa(){dn.toggleClass(De,Da(0)),hn.toggleClass(De,Da(1))}function Ma(){In.ok&&(In.prevent={"<":Da(0),">":Da(1)})}function ja(t){var e,a,i=t.data();return Ii?(e=i.l,a=i.w):(e=t.position().left,a=t.width()),{c:e+a/2,min:-e+10*n.thumbmargin,max:-e+jn.w-a-10*n.thumbmargin}}function Sa(t){var e=Gi.activeFrame[Xi].data();$(yn,{time:.9*t,pos:e.l,width:e.w-2*n.thumbborderwidth})}function Aa(t){var e=gi[t.guessIndex][Xi];if(e){var a=Fn.min!==Fn.max,i=a&&ja(Gi.activeFrame[Xi]),n=a&&(t.keep&&Aa.l?Aa.l:s((t.coo||jn.nw/2)-ja(e).c,i.min,i.max)),o=a&&s(n,Fn.min,Fn.max),r=.9*t.time;$(mn,{time:r,pos:o||0,onEnd:function(){ga(o,!0)}}),ni(gn,Y(o,Fn.min,Fn.max)),Aa.l=n}}function Ya(){Oa(Xi),An[Xi].push(Gi.activeFrame[Xi].addClass(Qe))}function Oa(t){for(var e=An[t];e.length;)e.shift().removeClass(Qe)}function za(t){var e=En[t];i.each(wi,function(t,a){delete e[D(a)]}),i.each(e,function(t,a){delete e[t],a.detach()})}function Ra(t){ki=Di=Cn;var e=Gi.activeFrame,a=e[$a];a&&(Oa($a),An[$a].push(a.addClass(Qe)),t||Gi.show.onEnd(!0),b(cn,0,!0),za($a),fa(wi),G(),Ee())}function Va(t,e){t&&i.each(e,function(e,a){a&&i.extend(a,{width:t.width||a.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:W(t.ratio)})})}function Xa(e,a){t.trigger(ee+":"+e,[Gi,a])}function Za(){clearTimeout(ti.t),Vi=1,n.stopautoplayontouch?Gi.stopAutoplay():$i=!0}function ti(){n.stopautoplayontouch||(ei(),ai()),ti.t=setTimeout(function(){Vi=0},La+Ka)}function ei(){$i=!(!yi&&!Ui)}function ai(){if(clearTimeout(ai.t),!n.autoplay||$i)return void(Gi.autoplay&&(Gi.autoplay=!1,Xa("stopautoplay")));Gi.autoplay||(Gi.autoplay=!0,Xa("startautoplay"));var t=Cn,e=Gi.activeFrame[$a].data();F(function(){return e.state||t!==Cn},function(){ai.t=setTimeout(function(){$i||t!==Cn||Gi.show(ji?q(!zi):D(Cn+(zi?-1:1)))},n.autoplay)})}function ii(){Gi.fullScreen&&(Gi.fullScreen=!1,Na&&pa.cancel(en),wa.removeClass(ae),ba.removeClass(ae),t.removeClass(He).insertAfter(rn),jn=i.extend({},Bi),oi(yi,!0,!0),ui("x",!1),Gi.resize(),Oe(wi,"stage"),Q(Hi,Wi),Xa("fullscreenexit"))}function ni(t,e){Li&&(t.removeClass(Le+" "+ze),e&&!yi&&t.addClass(e.replace(/^|\s/g," "+Ke+"--")))}function oi(t,e,a){e&&(sn.removeClass(re),yi=!1,_()),t&&t!==yi&&(t.remove(),Xa("unloadvideo")),a&&(ei(),ai())}function ri(t){sn.toggleClass(ce,t)}function si(t){if(!Sn.flow){var e=t?t.pageX:si.x,a=e&&!Da(ka(e))&&n.click;si.p===a||!Ei&&n.swipe||!ln.toggleClass(we,a)||(si.p=a,si.x=e)}}function li(t){clearTimeout(li.t),n.clicktransition&&n.clicktransition!==n.transition?(Ki=n.transition,Gi.setOptions({transition:n.clicktransition}),li.t=setTimeout(function(){Gi.show(t)},10)):Gi.show(t)}function ci(t,e){var a=t.target,o=i(a);o.hasClass(oa)?Gi.playVideo():a===wn?Gi[(Gi.fullScreen?"cancel":"request")+"FullScreen"]():yi?a===xn&&oi(yi,!0,!0):e?ri():n.click&&li({index:t.shiftKey||q(ka(t._x)),slow:t.altKey,user:!0})}function ui(t,e){Sn[t]=Fn[t]=e}function di(t,e){var a=i(this).data().eq;li({index:a,slow:t.altKey,user:!0,coo:t._x-gn.offset().left,time:e})}function hi(){if(p(),k(),!hi.i){hi.i=!0;var t=n.startindex;(t||n.hash&&a.hash)&&(Ti=P(t||a.hash.replace(/^#/,""),gi,0===Gi.index||t,t)),Cn=ki=Di=xi=Ti=S(Ti)||0}if(mi){if(pi())return;yi&&oi(yi,!0),wi=[],za($a),Gi.show({index:Cn,time:0,reset:hi.ok}),Gi.resize()}else Gi.destroy();hi.ok=!0}function pi(){return!pi.f===zi?(pi.f=zi,Cn=mi-1-Cn,Gi.reverse(),!0):void 0}function fi(){fi.ok||(fi.ok=!0,Xa("ready"))}ba=ba||i("html"),wa=wa||i("body");var gi,mi,vi,_i,yi,bi,wi,ki,Di,xi,Mi,Ci,Ti,ji,Si,Ii,Fi,Ni,Ai,Ei,Yi,Pi,Oi,Ki,Li,zi,Qi,Ri,Wi,Hi,qi,$i,Ui,Bi,Vi,Ji,Xi,Gi=this,Zi=i.now(),tn=ee+Zi,en=t[0],an=1,nn=t.data(),on=i("<style></style>"),rn=i(K(We)),sn=i(K(ie)),ln=i(K(me)).appendTo(sn),cn=(ln[0],i(K(ye)).appendTo(ln)),un=i(),dn=i(K(ke+" "+xe)),hn=i(K(ke+" "+Me)),pn=dn.add(hn).appendTo(ln),fn=i(K(Te)),gn=i(K(Ce)).appendTo(fn),mn=i(K(je)).appendTo(gn),vn=i(),_n=i(),yn=(cn.data(),mn.data(),i(K(aa)).appendTo(mn)),bn=i(K(qe)),wn=bn[0],kn=i(K(oa)),Dn=i(K(ra)).appendTo(ln),xn=Dn[0],Mn=i(K(ca)),Cn=!1,Tn={},jn={},Sn={},In={},Fn={},Nn={},An={},En={},Yn=0,Pn=[];sn[$a]=i(K(ve)),sn[Ba]=i(K(Fe+" "+Ae,K(ea))),sn[Ua]=i(K(Fe+" "+Ne,K(ta))),An[$a]=[],An[Ba]=[],An[Ua]=[],En[$a]={},sn.addClass(Ia?oe:ne),nn.fotorama=this,Gi.startAutoplay=function(t){return Gi.autoplay?this:($i=Ui=!1,y(t||n.autoplay),ai(),this)},Gi.stopAutoplay=function(){return Gi.autoplay&&($i=Ui=!0,ai()),this},Gi.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Di+1:"<"===e?Di-1:"<<"===e?0:">>"===e?mi-1:e,e=isNaN(e)?P(e,gi,!0):e,e="undefined"==typeof e?Cn||0:e,Gi.activeIndex=Cn=S(e),Mi=B(Cn),Ci=V(Cn),wi=[Cn,Mi,Ci],Di=ji?e:Cn;var a=Math.abs(xi-Di),i=w(t.time,function(){return Math.min(Oi*(1+(a-1)/12),2*Oi)}),o=t.overPos;t.slow&&(i*=10),Gi.activeFrame=bi=gi[Cn],oi(yi,bi.i!==gi[D(ki)].i),da(wi,"stage"),fa(Ea?[Di]:[Di,B(Di),V(Di)]),ui("go",!0),t.reset||Xa("show",{user:t.user,time:i}),$i=!0;var r=Gi.show.onEnd=function(e){if(!r.ok){if(r.ok=!0,e||Ra(!0),!t.reset&&(Xa("showend",{user:t.user}),!e&&Ki&&Ki!==n.transition))return Gi.setOptions({transition:Ki}),void(Ki=!1);ua(),Oe(wi,"stage"),ui("go",!1),Ma(),si(),ei(),ai()}};if(Ei){var l=bi[$a],c=Cn!==xi?gi[xi][$a]:null;U(l,c,un,{time:i,method:n.transition,onEnd:r},Pn)}else $(cn,{pos:-m(Di,jn.w,n.margin,ki),overPos:o,time:i,onEnd:r,_001:!0});if(xa(),Si){Ya();var u=x(Cn+s(Di-xi,-1,1));Aa({time:i,coo:u!==Cn&&t.coo,guessIndex:"undefined"!=typeof t.coo?u:Cn,keep:t.reset}),Ii&&Sa(i)}return qi="undefined"!=typeof xi&&xi!==Cn,xi=Cn,n.hash&&qi&&!Gi.eq&&N(bi.id||Cn+1),this},Gi.requestFullScreen=function(){return Ni&&!Gi.fullScreen&&(Wi=Ca.scrollTop(),Hi=Ca.scrollLeft(),Q(0,0),ui("x",!0),Bi=i.extend({},jn),t.addClass(He).appendTo(wa.addClass(ae)),ba.addClass(ae),oi(yi,!0,!0),Gi.fullScreen=!0,Ai&&pa.request(en),Gi.resize(),Oe(wi,"stage"),ua(),Xa("fullscreenenter")),this},Gi.cancelFullScreen=function(){return Ai&&pa.is()?pa.cancel(e):ii(),this},e.addEventListener&&e.addEventListener(pa.event,function(){!gi||pa.is()||yi||ii()
},!1),Gi.resize=function(t){if(!gi)return this;Va(Gi.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:R(t),[jn,Gi.fullScreen||n]);var e=arguments[1]||0,a=arguments[2],i=jn.width,o=jn.height,r=jn.ratio,l=Ca.height()-(Si?gn.height():0);return g(i)&&(sn.addClass(pe).css({width:i,minWidth:jn.minwidth||0,maxWidth:jn.maxwidth||Ja}),i=jn.W=jn.w=sn.width(),jn.nw=Si&&f(n.navwidth,i)||i,n.glimpse&&(jn.w-=Math.round(2*(f(n.glimpse,i)||0))),cn.css({width:jn.w,marginLeft:(jn.W-jn.w)/2}),o=f(o,l),o=o||r&&i/r,o&&(i=Math.round(i),o=jn.h=Math.round(s(o,f(jn.minheight,l),f(jn.maxheight,l))),ln.stop().animate({width:i,height:o},e,function(){sn.removeClass(pe)}),Ra(),Si&&(gn.stop().animate({width:jn.nw},e),Aa({guessIndex:Cn,time:e,keep:!0}),Ii&&ma.nav&&Sa(e)),Ri=a||!0,fi())),Yn=ln.offset().left,this},Gi.setOptions=function(t){return i.extend(n,t),hi(),this},Gi.shuffle=function(){return gi&&L(gi)&&hi(),this},Gi.destroy=function(){return Gi.cancelFullScreen(),Gi.stopAutoplay(),gi=Gi.data=null,c(),wi=[],za($a),this},Gi.playVideo=function(){var t=Gi.activeFrame,e=t.video,a=Cn;return"object"==typeof e&&t.videoReady&&(Ai&&Gi.fullScreen&&Gi.cancelFullScreen(),F(function(){return!pa.is()||a!==Cn},function(){a===Cn&&(t.$video=t.$video||i(i.Fotorama.jst.video(e)),t.$video.appendTo(t[$a]),sn.addClass(re),yi=t.$video,_(),Xa("loadvideo"))})),this},Gi.stopVideo=function(){return oi(yi,!0,!0),this},ln.on("mousemove",si),Sn=J(cn,{onStart:Za,onMove:function(t,e){ni(ln,e.edge)},onTouchEnd:ti,onEnd:function(t){ni(ln);var e=(Pa&&!Ji||t.touch)&&n.arrows&&"always"!==n.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var a=v(t.newPos,jn.w,n.margin,ki);Gi.show({index:a,time:Ei?Oi:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||ci(t.startEvent,e)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+Re+", ."+Re+" *",$wrap:ln}),Fn=J(mn,{onStart:Za,onMove:function(t,e){ni(gn,e.edge)},onTouchEnd:ti,onEnd:function(t){function e(){Aa.l=t.newPos,ei(),ai(),ga(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?($i=!0,$(mn,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),ga(t.newPos),Li&&ni(gn,Y(t.newPos,Fn.min,Fn.max))):e();else{var a=t.$target.closest("."+Fe,mn)[0];a&&di.call(a,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:gn}),In=X(ln,{shift:!0,onEnd:function(t,e){Za(),ti(),Gi.show({index:e,slow:t.altKey})}}),Nn=X(gn,{onEnd:function(t,e){Za(),ti();var a=b(mn)+.25*e;mn.css(u(s(a,Fn.min,Fn.max))),Li&&ni(gn,Y(a,Fn.min,Fn.max)),Nn.prevent={"<":a>=Fn.max,">":a<=Fn.min},clearTimeout(Nn.t),Nn.t=setTimeout(function(){ga(a,!0)},Ka),ga(a)}}),sn.hover(function(){setTimeout(function(){Vi||(Ji=!0,ri(!Ji))},0)},function(){Ji&&(Ji=!1,ri(!Ji))}),O(pn,function(t){H(t),li({index:pn.index(this)?">":"<",slow:t.altKey,user:!0})},{onStart:function(){Za(),Sn.control=!0},onTouchEnd:ti}),i.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){Gi[e]=function(){return gi=gi||[],"load"!==e?Array.prototype[e].apply(gi,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(gi=z(arguments[0])),hi(),Gi}}),hi()},i.fn.fotorama=function(e){return this.each(function(){var a=this,n=i(this),o=n.data(),r=o.fotorama;r?r.setOptions(e):F(function(){return!S(a)},function(){o.urtext=n.html(),new i.Fotorama(n,i.extend({},Xa,t.fotoramaDefaults,e,o))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(t){var e,a="";return da.escape,a+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},i.Fotorama.jst.video=function(t){function e(){a+=i.call(arguments,"")}var a="",i=(da.escape,Array.prototype.join);return a+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),a+='" frameborder="0" allowfullscreen></iframe></div>'},i(function(){i("."+ee+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),jQuery(function(){var t=jQuery("body");t.on("contentloaded",function(e){if(t.hasClass("show-view")){var a=jQuery(e.target),i=t.data("layout"),n=a.find(".gallery"),o={nav:"thumbs",width:"100%",margin:0,thumbmargin:0,thumbborderwidth:0,thumbheight:50,thumbwidth:130,fit:"scaledown"};"compact"===i?(o.allowfullscreen=!1,o.maxheight=480):(o.allowfullscreen=!0,o.height=330,o.maxheight=330),n.fotorama(o);var r=n.find(".fotorama__thumb-border");r.css("border-top-width","10px"),r.css("border-top-style","solid"),r.css("border-top-color","#ffde00")}}),t.on("layoutchange",function(e,a){if(t.hasClass("show-view")){var i=jQuery(e.target),n=i.find(".gallery"),o=n.data("fotorama");"compact"===a?o.setOptions({allowfullscreen:!1,height:480,maxheight:480}):o.setOptions({allowfullscreen:!0,height:330,maxheight:330})}})}),function(t){t.fn.latio_toolbox=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(t.error("Method "+a+" does not exist on jQuery.latio_toolbox"),void 0):e.init.apply(this,arguments)},t.latio_toolbox={owners:[],initialized:!1,open_toolboxes_exist:!1,init:function(){t.latio_toolbox.initialized||(t(window).bind("resize",t.latio_toolbox.resize_overlays),t(document).bind("keyup",function(e){27==(e.keyCode?e.keyCode:e.which)&&t.latio_toolbox.close_all()}))},close_all:function(e){var a=e&&e.size()>0;t.each(t.latio_toolbox.owners,function(t,i){!i||!i.data("latio_toolbox")||a&&i[0]==e[0]||i.latio_toolbox("close")}),a||(t.latio_toolbox.open_toolboxes_exist=!1)},find_toolbox_owner:function(e){var a=t(e).parents(".has-toolbox:first"),i=t();return 1==a.size()&&t.each(t.latio_toolbox.owners,function(t,e){i.size()>0||e&&e.data("latio_toolbox")&&a&&e[0]==a[0]&&(storedOwner=e)}),i},resize_overlays:function(){t.each(t.latio_toolbox.owners,function(t,e){e&&e.data("latio_toolbox")&&e.latio_toolbox("resize_overlays")})}};var e={init:function(e){t.latio_toolbox.init(),e=e||{};var a=new t;return this.each(function(){var i=$(this),n=i.is(".has-toolbox")?i:i.find(".has-toolbox");n.each(function(){var i=t(this);a=a.add(i);var n=i.data("latio_toolbox");if(!n){var n={owner:i,options:e,rand:Math.random()},o=["toolbox_class"],r=!0;if(t.each(o,function(t,e){var a="data-"+e.replace(/_/g,"-"),o=i.attr(a);"undefined"==typeof o?(r=!1,"undefined"!=typeof console&&console.log(a+" missing")):n[e]=o}),!r)return;var s=t();if(e.overlay_parents){var l="toolbox-overlay-"+n.toolbox_class,c="."+l,s=t(c);if(s.size()<1){var u=t('<div class="toolbox-overlay '+l+'" />');t.each(e.overlay_parents,function(e,a){t(a).each(function(){var e=t(this),a=u.clone().appendTo(e);a.data("parent",e),s=s.add(a)})}),s.click(function(){t.latio_toolbox.close_all()})}}n.overlays=s,i.delegate("> .toolbox-trigger","click",function(t){return t.preventDefault(),i.latio_toolbox("toggle")}),i.data("latio_toolbox",n)}t.latio_toolbox.owners.push(i)})}),e.before_open&&a.bind("open.latio_toolbox",e.before_open),e.after_close&&a.bind("close.latio_toolbox",e.after_close),a},open:function(){return this.each(function(){var e=t(this),a=e.data("latio_toolbox");if(e.trigger("open.latio_toolbox"),!a.toolbox){var i=e.find("> .toolbox");if(1!=i.size())return;a.toolbox=i;var n=t();a.options.beak_position_x&&(n=t('<div class="toolbox-beak toolbox-beak-'+a.toolbox_class+'" />'),n.appendTo(a.toolbox)),a.beak=n}if("undefined"==typeof a.trigger&&(i=e.find(".toolbox-trigger"),a.trigger=1==i.size()?i:null),"function"==typeof a.options.position_x)a.options.position_x.apply(e[0]);else if("center_against_trigger"==a.options.position_x&&a.trigger){var o=a.trigger.position(),r=a.trigger.outerWidth(),s=o.left+r/2,l=a.toolbox.outerWidth(),c=Math.round(s-l/2);a.toolbox.css("left",c)}if(a.beak&&"center_against_trigger"==a.options.beak_position_x&&a.trigger){var o=a.trigger.position(),r=a.trigger.outerWidth(),s=o.left+r/2,u=(a.toolbox.outerWidth()-a.toolbox.width())/2,d=parseInt(a.toolbox.css("left")),h=o.left-d,p=a.beak.outerWidth(),f=Math.round(h+r/2-p/2-u);a.beak.css("left",f)}a.open=!0,e.data("latio_toolbox",a),e.latio_toolbox("resize_overlays"),e.toggleClass("has-open-toolbox",!0);var g=t("body").data("layout");a.overlays.show(),t.latio_toolbox.open_toolboxes_exist=!0,"compact"===g?(e.removeClass("collapsed"),e.addClass("expanded"),a.toolbox.slideDown("fast")):a.toolbox.show()})},close:function(){return this.each(function(){var e=t(this),a=e.data("latio_toolbox");if(a&&a.open){a.open=!1,e.data("latio_toolbox",a),e.toggleClass("has-open-toolbox",!1),a.overlays.hide();var i=t("body"),n=i.data("layout");"compact"===n?a.toolbox.slideUp("fast"):a.toolbox.hide(),e.trigger("close.latio_toolbox")}})},toggle:function(){return this.each(function(){var e=t(this),a=e.data("latio_toolbox");return a&&a.open?e.latio_toolbox("close"):e.latio_toolbox("open")})},close_others:function(){return this.each(function(){var e=t(this);t.latio_toolbox.close_all(e)})},resize_overlays:function(){return this.each(function(){var e=t(this),a=e.data("latio_toolbox");if(a&&a.open){a.overlays.css({width:0,height:0});var i=t("body").width();a.overlays.each(function(){var e=t(this),a=e.data("parent");e.css({top:0,left:-1*a.offset().left,width:i,height:a.outerHeight()})})}})}}}(jQuery),function(t,e){function a(e,a){var n,o,r,s=e.nodeName.toLowerCase();return"area"===s?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(r=t("img[usemap=#"+o+"]")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||a:a)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(a,i){return"number"==typeof a?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},a)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(a){if(a!==e)return this.css("zIndex",a);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(a){return!!t.data(a,e)}}):function(e,a,i){return!!t.data(e,i[3])},focusable:function(e){return a(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),n=isNaN(i);return(n||i>=0)&&a(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(a,i){function n(e,a,i,n){return t.each(o,function(){a-=parseFloat(t.css(e,"padding"+this))||0,i&&(a-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(a-=parseFloat(t.css(e,"margin"+this))||0)}),a}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(a){return a===e?s["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,a)+"px")})},t.fn["outer"+i]=function(e,a){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,a)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(a){return arguments.length?e.call(this,t.camelCase(a)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,a,i){var n,o=t.ui[e].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([a,i[n]])},call:function(t,e,a){var i,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<n.length;i++)t.options[n[i][0]]&&n[i][1].apply(t.element,a)}},hasScroll:function(e,a){if("hidden"===t(e).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",n=!1;return e[i]>0?!0:(e[i]=1,n=e[i]>0,e[i]=0,n)}})}(jQuery),function(t,e){function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,a){t.extend(e,a);for(var i in a)null==a[i]&&(e[i]=a[i]);return e}t.extend(t.ui,{datepicker:{version:"@VERSION"}});var o,r="datepicker";t.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,a){var i,n,o;i=e.nodeName.toLowerCase(),n="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},a||{}),"input"===i?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,a){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var i=t(e);a.append=t([]),a.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),t.data(e,r,a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,a){var i,n,o,r=this._get(a,"appendText"),s=this._get(a,"isRTL");a.append&&a.append.remove(),r&&(a.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[s?"before":"after"](a.append)),e.unbind("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),i=this._get(a,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(n=this._get(a,"buttonText"),o=this._get(a,"buttonImage"),a.trigger=t(this._get(a,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[s?"before":"after"](a.trigger),a.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,a,i,n,o=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(a=0,i=0,n=0;n<t.length;n++)t[n].length>a&&(a=t[n].length,i=n);return i},o.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,a){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),t.data(e,r,a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(e,a,i,o,s){var l,c,u,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],r,p)),n(p.settings,o||{}),a=a&&a.constructor===Date?this._formatDate(p,a):a,this._dialogInput.val(a),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(e){var a,i=t(e),n=t.data(e,r);i.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),t.removeData(e,r),"input"===a?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var a,i,n=t(e),o=t.data(e,r);n.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(i=n.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var a,i,n=t(e),o=t.data(e,r);n.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(i=n.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,r)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,i,o){var r,s,l,c,u=this._getInst(a);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):u?"all"===i?t.extend({},u.settings):this._get(u,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=o),u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(a,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),n(u.settings,r),null!==l&&r.dateFormat!==e&&r.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&r.dateFormat!==e&&r.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(t(a),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u)),void 0)},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var a=this._getInst(t);a&&(this._setDate(a,e),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(t,e){var a=this._getInst(t);return a&&!a.inline&&this._setDateFromField(a,e),a?this._getDate(a):null},_doKeyDown:function(e){var a,i,n,o=t.datepicker._getInst(e.target),r=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),a=t.datepicker._get(o,"onSelect"),a?(i=t.datepicker._formatDate(o),a.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var a,i,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(a=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!a||a.indexOf(i)>-1):void 0},_doKeyUp:function(e){var a,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{a=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),a&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var a,i,o,r,s,l,c;a=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==a&&(t.datepicker._curInst.dpDiv.stop(!0,!0),a&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(a,"beforeShow"),o=i?i.apply(e,[e,a]):{},o!==!1&&(n(a.settings,o),a.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(a),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(a),s=t.datepicker._checkOffset(a,s,r),a.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),a.inline||(l=t.datepicker._get(a,"showAnim"),c=t.datepicker._get(a,"duration"),a.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?a.dpDiv.show(l,t.datepicker._get(a,"showOptions"),c):a.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(a)&&a.input.focus(),t.datepicker._curInst=a))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,i=this._getNumberOfMonths(e),n=i[1],r=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(a=e.yearshtml,setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,a,i){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return a.left-=this._get(e,"isRTL")?n-r:0,a.left-=i&&a.left===e.input.offset().left?t(document).scrollLeft():0,a.top-=i&&a.top===e.input.offset().top+s?t(document).scrollTop():0,a.left-=Math.min(a.left,a.left+n>l&&l>n?Math.abs(a.left+n-l):0),a.top-=Math.min(a.top,a.top+o>c&&c>o?Math.abs(o+s):0),a},_findPos:function(e){for(var a,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return a=t(e).offset(),[a.left,a.top]},_hideDatepicker:function(e){var a,i,n,o,s=this._curInst;!s||e&&s!==t.data(e,r)||this._datepickerShowing&&(a=this._get(s,"showAnim"),i=this._get(s,"duration"),n=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[a]||t.effects[a])?s.dpDiv.hide(a,t.datepicker._get(s,"showOptions"),i,n):s.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,n),a||n(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var a=t(e.target),i=t.datepicker._getInst(a[0]);(a[0].id!==t.datepicker._mainDivId&&0===a.parents("#"+t.datepicker._mainDivId).length&&!a.hasClass(t.datepicker.markerClassName)&&!a.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||a.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,a,i){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,a+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var a,i=t(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(a=new Date,n.selectedDay=a.getDate(),n.drawMonth=n.selectedMonth=a.getMonth(),n.drawYear=n.selectedYear=a.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,a,i){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,a,i,n){var o,r=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(o=this._getInst(r[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=a,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var a=t(e);this._selectDate(a,"")},_selectDate:function(e,a){var i,n=t(e),o=this._getInst(n[0]);a=null!=a?a:this._formatDate(o),o.input&&o.input.val(a),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[a,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var a,i,n,o=this._get(e,"altField");o&&(a=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(a,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,a=new Date(t.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),e=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((e-a)/864e5)/7)+1},parseDate:function(e,a,i){if(null==e||null==a)throw"Invalid arguments";if(a="object"==typeof a?a.toString():a+"",""===a)return null;
var n,o,r,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,_=-1,y=!1,b=function(t){var a=n+1<e.length&&e.charAt(n+1)===t;return a&&n++,a},w=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{1,"+i+"}"),o=a.substring(l).match(n);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},k=function(e,i,n){var o=-1,r=t.map(b(e)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];return a.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},D=function(){if(a.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<e.length;n++)if(y)"'"!==e.charAt(n)||b("'")?D():y=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":k("D",d,h);break;case"o":_=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":s=new Date(w("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((w("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":b("'")?D():y=!0;break;default:D()}if(l<a.length&&(r=a.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),_>-1)for(m=1,v=_;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,a){if(!e)return"";var i,n=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,o=(a?a.dayNames:null)||this._defaults.dayNames,r=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,s=(a?a.monthNames:null)||this._defaults.monthNames,l=function(e){var a=i+1<t.length&&t.charAt(i+1)===e;return a&&i++,a},c=function(t,e,a){var i=""+e;if(l(t))for(;i.length<a;)i="0"+i;return i},u=function(t,e,a,i){return l(t)?i[e]:a[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),n,o);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),r,s);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,a="",i=!1,n=function(a){var i=e+1<t.length&&t.charAt(e+1)===a;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||n("'")?a+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":n("'")?a+="'":i=!0;break;default:a+=t.charAt(e)}return a},_get:function(t,a){return t.settings[a]!==e?t.settings[a]:this._defaults[a]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var a=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,r=this._getFormatConfig(t);try{o=this.parseDate(a,i,r)||n}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,a,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(a){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),a,t.datepicker._getFormatConfig(e))}catch(i){}for(var n=(a.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),r=n.getMonth(),s=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(a);c;){switch(c[2]||"d"){case"d":case"D":s+=parseInt(c[1],10);break;case"w":case"W":s+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(c[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r))}c=l.exec(a)}return new Date(o,r,s)},r=null==a||""===a?i:"string"==typeof a?o(a):"number"==typeof a?isNaN(a)?i:n(a):new Date(a.getTime());return r=r&&"Invalid Date"===r.toString()?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,n=t.selectedMonth,o=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-a,"M")},next:function(){t.datepicker._adjustDate(i,+a,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,a,i,n,o,r,s,l,c,u,d,h,p,f,g,m,v,_,y,b,w,k,D,x,M,C,T,j,S,I,F,N,A,E,Y,P,O,K,L,z=new Date,Q=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),R=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),$=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),B=this._get(t,"stepMonths"),V=1!==$[0]||1!==$[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),G=this._getMinMaxDate(t,"max"),Z=t.drawMonth-U,te=t.drawYear;if(0>Z&&(Z+=12,te--),G)for(e=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth()-$[0]*$[1]+1,G.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,a=this._get(t,"prevText"),a=q?this.formatDate(a,this._daylightSavingAdjust(new Date(te,Z-B,1)),this._getFormatConfig(t)):a,i=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+a+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+a+"</span></a>",n=this._get(t,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+B,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+n+"</span></a>",r=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?J:Q,r=q?this.formatDate(r,s,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(R?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(R?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",k=0;k<$[0];k++){for(D="",this.maxRows=4,x=0;x<$[1];x++){if(M=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),C=" ui-corner-all",T="",V){if(T+="<div class='ui-datepicker-group",$[1]>1)switch(x){case 0:T+=" ui-datepicker-group-first",C=" ui-corner-"+(R?"right":"left");break;case $[1]-1:T+=" ui-datepicker-group-last",C=" ui-corner-"+(R?"left":"right");break;default:T+=" ui-datepicker-group-middle",C=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===k?R?o:i:"")+(/all|right/.test(C)&&0===k?R?i:o:"")+this._generateMonthYearHeader(t,Z,te,X,G,k>0||x>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",j=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)S=(w+u)%7,j+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[S]+"'>"+p[S]+"</span></th>";for(T+=j+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),F=(this._getFirstDayOfMonth(te,Z)-u+7)%7,N=Math.ceil((F+I)/7),A=V?this.maxRows>N?this.maxRows:N:N,this.maxRows=A,E=this._daylightSavingAdjust(new Date(te,Z,1-F)),Y=0;A>Y;Y++){for(T+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(E)+"</td>":"",w=0;7>w;w++)O=m?m.apply(t.input?t.input[0]:null,[E]):[!0,""],K=E.getMonth()!==Z,L=K&&!_||!O[0]||X&&X>E||G&&E>G,P+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(E.getTime()===M.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===E.getTime()&&y.getTime()===M.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!v?"":" "+O[1]+(E.getTime()===J.getTime()?" "+this._currentClass:"")+(E.getTime()===Q.getTime()?" ui-datepicker-today":""))+"'"+(K&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+E.getMonth()+"' data-year='"+E.getFullYear()+"'")+">"+(K&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+E.getDate()+"</span>":"<a class='ui-state-default"+(E.getTime()===Q.getTime()?" ui-state-highlight":"")+(E.getTime()===J.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+E.getDate()+"</a>")+"</td>",E.setDate(E.getDate()+1),E=this._daylightSavingAdjust(E);T+=P+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(V?"</div>"+($[0]>0&&x===$[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),D+=T}b+=D}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,a,i,n,o,r,s){var l,c,u,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=i&&i.getFullYear()===a,c=n&&n.getFullYear()===a,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||u<=n.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");b+="</select>"}if(_||(y+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?a+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===a?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),_&&(y+=(!o&&m&&v?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(t,e,a){var i=t.drawYear+("Y"===a?e:0),n=t.drawMonth+("M"===a?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,n))+("D"===a?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,n,o)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===a||"Y"===a)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),n=a&&a>e?a:e;return i&&n>i?i:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(a,i+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var a,i,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),r=null,s=null,l=this._get(t,"yearRange");return l&&(a=l.split(":"),i=(new Date).getFullYear(),r=parseInt(a[0],10),s=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(r+=i),a[1].match(/[+\-].*/)&&(s+=i)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!r||e.getFullYear()>=r)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(a)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(a))},t.datepicker=new a,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="@VERSION"}(jQuery),jQuery(document).ready(function(){var t=jQuery("body"),e=function(t){if(!t)return null;var e=/^[+-]?\d+$/;return e.test(t)?t:null};t.on("calendarsinit",function(t){var a=jQuery(t.target),i={changeMonth:!0,changeYear:!0};a.find("input.date").each(function(){var t=jQuery(this),a=i;a.dateFormat=t.attr("data-date-format")||"yy-mm-dd",a.minDate=e(t.attr("data-min-date")),a.maxDate=e(t.attr("data-max-date")),t.datepicker(a)})}),t.on("contentloaded",function(t){jQuery(t.target).trigger("calendarsinit")})}),jQuery(function(){var t=jQuery("body");t.on("contentloaded",function(e){var a=jQuery(e.target),i=a.find(".real-estate-object-search-index"),n=a.find(".go-to-form"),o=a.find(".show-form"),r=o.find("> button.button");n.on("click",function(){r.trigger("click"),jQuery(document).scrollTop(i.offset().top)}),r.on("click",function(){o.hide(),i.slideDown("fast")}),a.find(".order-modes-block").latio_toolbox({overlay_parents:[".content","footer .page-wrap"]}),a.find('.index-modes li[data-index-mode=map] > .button:not([href*="#"])').on("click",function(){var e=t.data("layout");"compact"===e&&jQuery(this).attr("href",jQuery(this).attr("href")+"#content")})})}),jQuery(function(){var t=jQuery("body");t.on("contentloaded",function(t){var e=jQuery(t.target).find(".index-wrap");if(!(e.length<1)){var a=e.data("number-of-objects-per-building");if(a){var i=new url_builder;i.remove("page"),e.find(".item[data-project-building-id]").each(function(){var t=jQuery(this),e=t.data("project-building-id");if(e){var n=a[e];if(n&&!(2>n)){var o=t.find(".building-details"),r=o.text()+"("+n+")",s=i.add({project_building_id:e}).getUrl(),l=jQuery("<a>").attr("href",s).text(r);o.html(l),o.css({visibility:"visible"})}}})}}})}),jQuery(function(){if(log_time("jQuery domready"),!(jQuery(".content .index.map").length<1)){var t=jQuery("body");t.on("contentloaded",function(e){var a=jQuery(e.target);a.find(".real-estate-objects-map").each(function(){var e=jQuery(this);e.on("mapready",function(){log_time("map ready"),t.find(".index.map .objects.loaded").trigger("mapupdate")}),e.on("mapitemsupdated",function(){t.find(".index.map .objects.loaded").trigger("objectsdisplay")}),e.trigger("mapinit",{engine:"google"})})}),t.on("contentloaded",function(e){var a=jQuery(e.target),i=a.is(".objects")?a:a.find(".objects");if(!(i.length<1||i.closest(".index.map").length<1)){i.on("objectsload",function(){i.html(""),i.addClass("loading").removeClass("loaded");var e=new url_builder;e.add({ajax:1}),log_time("objects ajax request started"),jQuery.ajax({url:e.getUrl(),dataType:"json",success:function(e){log_time("objects ajax request complete. storing json in data"),i.data("item-hashes",e.entries),e.entries.length<1&&i.html(i.data("no-results-html")),t.find(".total > .text").text(e.total_text);var a=e.total_subtext;a||(a=""),t.find(".sub-title > .text").text(a),i.addClass("loaded").removeClass("loading"),i.animate({right:"0"}),i.siblings(".aside.overlay").animate({opacity:"0.4"}),i.trigger("mapupdate")}})}),i.on("mapupdate",function(){if(i.is(".loaded")){var t=i.closest(".index.map").find(".real-estate-objects-map").first();t.data("ready")&&t.trigger("mapupdateitems",{items:i.data("item-hashes")})}});var n;i.on("scroll",function(){clearTimeout(n),n=setTimeout(function(){i.scrollTop()+i.innerHeight()>=i[0].scrollHeight-100&&i.trigger("objectsdisplay")},100)}),i.on("objectsdisplay",function(){if(i.is(".loaded")&&!i.is(".rendering")){var t=i.data("item-hashes");if(t){var e=t.length,a=i.find(".item").length;if(!(a>=e)){var n=10,o=t.slice(a,a+n);i.trigger("objectsrenderchunk",[o])}}}}),i.on("objectsrenderchunk",function(t,e){i.addClass("rendering"),log_time("item list creation from data hashes started");var a=jQuery("<div />").addClass("chunk loading");a.appendTo(i);var n=i.data("item-template"),o=[];jQuery.each(e,function(){o.push(TemplateFiller.fill_html(n,this))}),a.html(o.join("")),log_time("item list creation from data hashes complete"),a.removeClass("loading"),i.removeClass("rendering"),a.trigger("contentloaded")}),i.is(".loading")||i.trigger("objectsload")}}),t.on("contentloaded",function(t){var e=jQuery(t.target),a=e.is(".objects.loaded")?e:e.closest(".objects.loaded");if(!(a.length<1||a.closest(".index.map").length<1)){var i=e.is(".chunk")?e:e.find(".chunk");i.find(".item a:not(.group-similar)").on("click",function(t){var e=jQuery(t.target),a=e.closest(".index.map").find(".real-estate-objects-map:not(.map-loading)").first();a.length<1||(t.preventDefault(),a.trigger("mapitemactivate",e.closest(".item").attr("data-field-id")))})}}),t.on("contentloaded",function(t){var e=jQuery(t.target),a=e.find(".aside.overlay"),i=a.closest(".index.map");i.length<1||a.on("click",function(){var t=i.find(".aside.panel.active"),e=i.find(".aside.panel:not(.active)");e.addClass("active"),t.removeClass("active")})})}}),jQuery(function(){var t=jQuery("body");t.is(".real-estate-object-pages-controller.show-view, .project-pages-controller.show-view, .project-pages-controller.video-view, .project-pages-controller.tour-view")&&(t.on("contentloaded",function(t){var e=jQuery(t.target);if(e.hasClass("ajaxbox-inner")){var a=e.find(".tour-dialog");a.css("width",a.data("width"))}var i=e.find(".dialog .page-wrap iframe"),n=jQuery(i),o=n.width(),r=n.height(),s=n.clone().removeAttr("height").removeAttr("width"),l=jQuery("<div />").addClass("frame-wrap").css("padding-bottom",100*(r/o)+"%").append(s);n.replaceWith(l)}),t.is(".real-estate-object-pages-controller.show-view, .project-pages-controller.show-view")&&t.on("contentloaded",function(e){var a=jQuery(e.target),i=a.find(".real-estate-object-map"),n=a.find(".toggle-map-engine"),o=a.find(".outside-map-link"),r=currentMapEngineName(),s=i.data("field-lat"),l=i.data("field-lng"),c={google:"https://maps.google.com/?ll="+s+","+l+"&z=17&q="+s+","+l,bing:"//www.bing.com/maps/?v=2&cp="+s+"~"+l+"&lvl=17&q="+s+","+l};n.text(n.data("text-"+r)),o.attr("href",c[r]),n.on("click",function(){i.trigger("maptoggle"),r=currentMapEngineName(),n.text(n.data("text-"+r)),o.attr("href",c[r])}),t.is(".real-estate-object-pages-controller.show-view")&&i.each(function(){var t=jQuery(this);t.bind("mapready",function(){t.trigger("mapupdateitems",{items:i})}),t.trigger("mapinit")})}))});